---
title: "JavaScript SDK - 'startOfflineRecording' method"
metaTitle: "JavaScript SDK - 'startOfflineRecording' method"
metaDescription: "Details about the 'startOfflineRecording' method from OpenReplay's SDK"
---

Starts session recording in offline mode (nothing being sent unless triggered to upload) returns methods to control the recording state.

> Note: Keep in mind that only user device time will be used for timestamps. (no backend delay sync)

## Signature

```ts
startOfflineRecording(
	startOpts?: Partial<StartOptions>, 
	onSessionSent: () => void
): { saveBuffer, getBuffer, setBuffer }
```

### Parameters
With the `startOpts` you can customize different aspects of the recording:
- `userID: string`: used to manually set the user ID to track it across sessions. This is a string value and it can be anything you want.
- `metadata: Record<string, string>`: manually set metadata values. Check the [Metadata section](/installation/metadata/) to learn more about this feature.
- `forceNew: boolean`: used to force a new session after page refresh. By default it's set to `false`, so after a refresh the session is kept.
- `sessionHash: string`: used for sticky sessions. Useful if you have a multi-site application or if you have to redirect the user outside and then back into your site (like to a payment gateway).

`onSessionSent` - callback that will be called once session is fully uploaded


### Return value

- `saveBuffer(): void` - will save current buffer to localStorage object (customizable in constructor), buffer will be
autoloaded it once `startOfflineRecording` is called

- `getBuffer(): Messages[]` - returns current messages buffer

- `setBuffer(buffer: Messages[])` - replaces current buffer with given (if you're using alternative temporary saving methods)

